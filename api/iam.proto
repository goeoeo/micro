// Copyright 2019 The Billing Authors. All rights reserved.
// Use of this source code is governed by a Apache license
// that can be found in the LICENSE file.

syntax = "proto3";

package newbilling;

option go_package = ".;pb";

import "google/protobuf/wrappers.proto";
import "google/protobuf/timestamp.proto";
import "google/api/annotations.proto";
import "protoc-gen-swagger/options/annotations.proto";

//email	string	用户邮箱	Yes
//passwd	string	用户密码	Yes
//phone	string	手机号	Yes
//personal_name	string	个人名称	No
//personal_code	string	个人身份证号	No
//company_name	string	公司名称	No
//company_code	string	公司代码	No
//company_phone	string	公司电话	No
//address	string	联系地址	No
//industry_category	string	行业类型	No
//lang	string	语言类型, 支持en, zh-cn	No
//currency	string	货币类型，支持cny, usd, hkd	No
//verify_type	string	认证类型, 支持personal, company	No
//sale_type	string	销售类型，支持public, enterprice	No
//remarks	string	备注	No

//接入系统
message IamAccessSystem {
    //接入系统ID
    google.protobuf.StringValue access_sys_id = 1;
    //接入系统名称
    google.protobuf.StringValue name = 2;
    //接入系统别名
    google.protobuf.StringValue access_sys_code = 3;
}

//查询接入系统请求信息
message DescribeUserAccessSystemsRequest {
}

//查询接入系统返回信息
message DescribeUserAccessSystemsResponse {
    //返回信息列表
    repeated IamAccessSystem access_system = 1;
}

message DescribeAccessSystemUserRequest {
    string access_sys_id = 1;
    string user_id = 2;
}

message DescribeAccessSystemUserResponse {
    string access_sys_user_id = 1;
    string access_sys_id = 2;
    string user_id = 3;
    uint32 user_type = 4;
}

//切换接入系统请求信息
message SwitchAccessSysRequest {
    //接入系统ID
    google.protobuf.StringValue access_sys_id = 1;
}

//用户绑定接入系统请求信息
message AccessSystemOwnerRequest {
    //接入系统ID
    repeated string access_sys_id = 1;
}

message AccessSystemOwner {
    string access_sys_id = 1;
    string user_id = 2;
    string email = 3;
}

//用户绑定接入系统返回信息
message AccessSystemOwnerResponse {
    //用户ID
    repeated AccessSystemOwner access_sys_owner = 1;
}

//查询用户返回信息
message DescribeAccessSystemsByOwnerResponse {
    //返回总数
    uint32 total_count = 1;
    //返回用户列表
    repeated AccessSystemOwner owner_set = 2;
}

//用户绑定接入系统请求信息
message AccessSystemInitRequest {
    //接入系统ID
    string access_sys_id = 1;
    string access_sys_name = 2;
    string email = 3;
    //1 - admin邀请owner 2 - appcenter注册新owner
    uint32 init_type = 4;
}

//用户绑定接入系统请求信息
message AccessSystemInitResponse {
    //接入系统ID
    string access_sys_id = 1;
    string user_id = 2;
}

//用户角色信息
message UserRole {
    //角色ID
    string id = 1;
    //角色名称
    string name = 2;
}

//用户帐号信息
message User {
    //用户ID
    google.protobuf.StringValue user_id = 1;
    //用户邮件-帐号
    google.protobuf.StringValue email = 2;
    //用户密码
    google.protobuf.StringValue passwd = 3;
    //手机号
    google.protobuf.StringValue phone = 4;
    //用户图像
    google.protobuf.StringValue image = 5;
    //用户姓名
    google.protobuf.StringValue personal_name = 6;
    //用户编码
    google.protobuf.StringValue personal_code = 7;
    //公司名称
    google.protobuf.StringValue company_name = 8;
    //公司编码
    google.protobuf.StringValue company_code = 9;
    //公司电话
    google.protobuf.StringValue company_phone = 10;
    //地址
    google.protobuf.StringValue address = 11;
    //所属行业
    google.protobuf.StringValue industry_category = 12;
    //语言
    google.protobuf.StringValue lang = 13;
    //货币种类
    google.protobuf.StringValue currency = 14;
    //验证类型
    google.protobuf.StringValue verify_type = 15;
    //销售类型
    google.protobuf.StringValue sale_type = 16;
    //备注
    google.protobuf.StringValue remarks = 17;
    //用户状态- value = 1 可用, value = 2 禁用, value = 3 黑名单, value = 4 未加入
    google.protobuf.UInt32Value status = 18;
    //创建时间
    google.protobuf.Timestamp create_time = 19;
    //更新时间
    google.protobuf.Timestamp update_time = 20;
    //用户类型
    google.protobuf.UInt32Value user_type = 21;
    //用户角色信息
    repeated UserRole roles = 22;
}

//创建用户帐号请求信息
message CreateUserRequest {
    //用户ID
    google.protobuf.StringValue user_id = 1;
    //用户邮件-帐号
    google.protobuf.StringValue email = 2;
    //用户密码
    google.protobuf.StringValue passwd = 3;
    //手机号
    google.protobuf.StringValue phone = 4;
    //用户图像
    google.protobuf.StringValue image = 5;
    //用户姓名
    google.protobuf.StringValue personal_name = 6;
    //用户编码
    google.protobuf.StringValue personal_code = 7;
    //公司名称
    google.protobuf.StringValue company_name = 8;
    //公司编码
    google.protobuf.StringValue company_code = 9;
    //公司电话
    google.protobuf.StringValue company_phone = 10;
    //地址
    google.protobuf.StringValue address = 11;
    //所属行业
    google.protobuf.StringValue industry_category = 12;
    //语言
    google.protobuf.StringValue lang = 13;
    //货币种类
    google.protobuf.StringValue currency = 14;
    //验证类型
    google.protobuf.StringValue verify_type = 15;
    //销售类型
    google.protobuf.StringValue sale_type = 16;
    //备注
    google.protobuf.StringValue remarks = 17;
}

//创建用户帐号返回信息
message CreateUserResponse {
    //创建用户生成的用户ID
    google.protobuf.StringValue user_id = 1;
}

//修改用户请求信息
message ModifyUserRequest {
    //用户ID
    google.protobuf.StringValue user_id = 1;
    //用户邮件-帐号
    google.protobuf.StringValue email = 2;
    //用户密码
    google.protobuf.StringValue passwd = 3;
    //手机号
    google.protobuf.StringValue phone = 4;
    //用户图像
    google.protobuf.StringValue image = 5;
    //用户姓名
    google.protobuf.StringValue personal_name = 6;
    //用户编码
    google.protobuf.StringValue personal_code = 7;
    //公司名称
    google.protobuf.StringValue company_name = 8;
    //公司编码
    google.protobuf.StringValue company_code = 9;
    //公司电话
    google.protobuf.StringValue company_phone = 10;
    //地址
    google.protobuf.StringValue address = 11;
    //所属行业
    google.protobuf.StringValue industry_category = 12;
    //语言
    google.protobuf.StringValue lang = 13;
    //货币种类
    google.protobuf.StringValue currency = 14;
    //验证类型
    google.protobuf.StringValue verify_type = 15;
    //销售类型
    google.protobuf.StringValue sale_type = 16;
    //备注
    google.protobuf.StringValue remarks = 17;
    //用户状态- value = 1 可用, value = 2 禁用, value = 3 黑名单, value = 4 未加入
    google.protobuf.UInt32Value status = 18;
    //修改用户角色ID
    repeated string role_id = 19;
    //邀请用户时产生的编号
    google.protobuf.StringValue code = 20;
    //邀请用户时的接入平台ID
    google.protobuf.StringValue access_sys_id = 21;
}

//修改用户返回信息
message ModifyUserResponse {
    //修改的用户ID
    google.protobuf.StringValue user_id = 1;
}

//删除未激活用户请求信息
message DeleteAccessSystemUserRequest {
    //用户ID
    google.protobuf.StringValue user_id = 1;
}

//删除未激活用户返回信息
message DeleteAccessSystemUserResponse {
    //用户ID
    google.protobuf.BoolValue delete = 1;
}

//修改接入平台用户请求信息
message ModifyAccessSystemUserRequest {
    //接入平台用户ID
    google.protobuf.StringValue access_sys_user_id = 1;
    //接入平台ID
    google.protobuf.StringValue access_sys_id = 2;
    //用户ID
    string user_id = 3;
    //用户类型- value = 1 owner, value = 2 非owner
    google.protobuf.UInt32Value user_type = 4;
    //用户其它信息
    google.protobuf.StringValue extra_info = 5;
    //用户状态- value = 1 可用, value = 2 禁用, value = 3 黑名单
    google.protobuf.UInt32Value status = 6;
}

//修改接入平台用户返回信息
message ModifyAccessSystemUserResponse {
    //接入平台ID
    string access_sys_id = 1;
    //用户ID
    string user_id = 2;
}

//修改用户状态请求信息
message ModifyUserStatusRequest {
    //用户ID
    google.protobuf.StringValue user_id = 1;
    //修改后的用户状态
    google.protobuf.UInt32Value status = 2;
}

//修改用户状态返回信息
message ModifyUserStatusResponse {
    //修改的用户ID
    google.protobuf.StringValue user_id = 1;
}

//修改用户密码请求信息
message ChangePasswdRequest {
    //用户旧密码
    google.protobuf.StringValue passwd_old = 1;
    //用户新密码
    google.protobuf.StringValue passwd_new = 2;
}

//修改用户密码返回信息
message ChangePasswdResponse {
    //修改的用户ID
    google.protobuf.StringValue user_id = 1;
}

//重置密码请求信息
message ResetPasswdRequest {
    //用户邮件-帐号
    google.protobuf.StringValue email = 1;
    //用户新密码
    google.protobuf.StringValue passwd_new = 2;
    //重置密码CODE
    google.protobuf.StringValue code = 3;
}

//重置密码返回信息
message ResetPasswdResponse {
    //修改的用户ID
    google.protobuf.StringValue user_id = 1;
}

//查询用户请求信息
message DescribeUsersRequest {
    //模糊查询关键字 - 支持字段：user_id/email/phone
    google.protobuf.StringValue search_word = 1;
    //排序字段 - 默认 create_time
    google.protobuf.StringValue sort_key = 2;
    //是否倒序排序 - value = 0 sort ASC, value = 1 sort DESC
    google.protobuf.BoolValue reverse = 3;
    //数据库查询偏移位置 - 默认 0
    google.protobuf.UInt64Value offset = 4;
    //数据库查询每页大小 - 默认 20, 最大值 200
    google.protobuf.UInt64Value limit = 5;

    google.protobuf.StringValue access_sys_group = 6;
    //用户ID
    repeated string user_id = 7;
    //用户角色ID
    repeated string role_id = 8;
    //用户邮件-帐号
    repeated string email = 9;
    //手机号
    repeated string phone = 10;

    google.protobuf.UInt32Value status = 11;
}

//查询用户返回信息
message DescribeUsersResponse {
    //返回总数
    uint32 total_count = 1;
    //返回用户列表
    repeated User user_set = 2;
}

//登录请求信息
message LoginRequest {
    //接入平台ID
    google.protobuf.StringValue access_sys_id = 1;
    //用户邮件-帐号
    google.protobuf.StringValue email = 2;
    //用户密码
    google.protobuf.StringValue passwd = 3;
}

//登录响应信息
message LoginResponse {
    //用户token
    google.protobuf.StringValue token = 1;
    //用户ID
    google.protobuf.StringValue user_id = 2;
    //接入平台ID
    google.protobuf.StringValue access_sys_id = 3;
}

//退出请求信息
message LogoutRequest {

}

//退出响应信息
message LogoutResponse {
    //退出是否成功
    google.protobuf.BoolValue logout = 1;
}

//邀请用户请求信息
message InviteUserRequest {
    //邀请用户邮件-帐号
    string email = 1;
    //邀请用户分配的角色列表
    repeated string role_id = 2;
}

//邀请用户响应信息
message InviteUserResponse {
    //是否发出邀请
    bool ok = 1;
    //邀请用户CODE
    string code = 2;
}

//用户重置密码发送邮件请求信息
message ResetPwdSendEmailRequest {
    //用户邮件地址
    string email = 1;
}

//用户重置密码发送邮件响应信息
message ResetPwdSendEmailResponse {
    //是否发送成功
    bool ok = 1;
    //用户重置密码CODE
    string code = 2;
}

//角色基本信息
message Role {
    //角色ID
    google.protobuf.StringValue role_id = 1;
    //角色名秒
    google.protobuf.StringValue role_name = 2;
    //接入平台ID
    google.protobuf.StringValue access_sys_id = 3;
    //角色描述
    google.protobuf.StringValue description = 4;
    //角色类型- value = 1 owner, value = 2 普通角色
    google.protobuf.UInt32Value role_type = 5;
    //角色状态- value = 1 可用, value = 2 禁用
    google.protobuf.UInt32Value status = 6;
    //创建人ID
    google.protobuf.StringValue created_by = 7;
    //创建时间
    google.protobuf.Timestamp create_time = 8;
    //更新时间
    google.protobuf.Timestamp update_time = 9;
    //角色的成员数量
    google.protobuf.UInt32Value users = 10;
}

//查询角色请求信息
message DescribeRolesRequest {
    //模糊查询关键字 - 支持字段：role_id/role_name
    google.protobuf.StringValue search_word = 1;
    //排序字段 - 默认 create_time
    google.protobuf.StringValue sort_key = 2;
    //是否倒序排序 - value = 0 sort ASC, value = 1 sort DESC
    google.protobuf.BoolValue reverse = 3;
    //数据库查询偏移位置 - 默认 0
    google.protobuf.UInt64Value offset = 4;
    //数据库查询每页大小 - 默认 20, 最大值 200
    google.protobuf.UInt64Value limit = 5;
    //角色ID
    repeated string role_id = 6;
    //角色状态- value = 1 可用, value = 2 禁用
    repeated string status = 7;
    //角色名称
    repeated string role_name = 8;
}

//查询角色返回信息
message DescribeRolesResponse {
    //返回总数
    uint32 total_count = 1;
    //返回角色列表
    repeated Role role_set = 2;
}

//创建角色请求信息
message CreateRoleRequest {
    //角色名称
    google.protobuf.StringValue role_name = 1;
    //角色描述
    google.protobuf.StringValue description = 2;
    google.protobuf.UInt32Value role_type = 3;
}

//创建角色返回信息
message CreateRoleResponse {
    //角色ID
    google.protobuf.StringValue role_id = 1;
}

//修改角色请求信息
message ModifyRoleRequest {
    //角色ID
    google.protobuf.StringValue role_id = 1;
    //角色名称
    google.protobuf.StringValue role_name = 2;
    //角色描述
    google.protobuf.StringValue description = 3;
    //角色状态- value = 1 可用, value = 2 禁用
    google.protobuf.UInt32Value status = 4;
}

//修改角色返回信息
message ModifyRoleResponse {
    //角色ID
    google.protobuf.StringValue role_id = 1;
}

//修改角色状态请求信息
message ModifyRoleStatusRequest {
    //角色ID
    google.protobuf.StringValue role_id = 1;
    //修改后的角色状态- value = 1 可用, value = 2 禁用
    google.protobuf.UInt32Value status = 2;
}

//修改角色状态返回信息
message ModifyRoleStatusResponse {
    //角色ID
    google.protobuf.StringValue role_id = 1;
}

//删除角色请求信息
message DeleteRoleRequest {
    //角色ID
    google.protobuf.StringValue role_id = 1;
}

//删除角色返回信息
message DeleteRoleResponse {
    //角色ID
    google.protobuf.BoolValue delete = 1;
}

//用户角色绑定基本信息
message BindingMemberRole {
    //用户ID
    repeated string user_id = 1;
    //角色ID
    repeated string role_id = 2;
}

//用户角色绑定请求信息
message BindingMembersRolesRequest {
    //用户角色绑定列表
    repeated BindingMemberRole binding_member_role = 1;
}

//用户角色绑定返回信息
message BindingMembersRolesResponse {
    //绑定是否成功
    google.protobuf.BoolValue ok = 1;
}

//角色用户信息
message RoleUserInfo {
    //用户ID
    google.protobuf.StringValue user_id = 1;
    //用户email
    google.protobuf.StringValue email = 2;
    //用户状态- value = 1 可用, value = 2 禁用, value = 3 黑名单, value = 4 未加入
    google.protobuf.UInt32Value status = 3;
}

//角色详情请求信息
message RoleDetailRequest {
    //角色ID
    google.protobuf.StringValue role_id = 1;
}

//角色详情返回信息
message RoleDetailResponse {
    //角色ID
    google.protobuf.StringValue role_id = 1;
    //角色名称
    google.protobuf.StringValue role_name = 2;
    //角色描述
    google.protobuf.StringValue description = 3;
    //角色更新时间
    google.protobuf.Timestamp update_time = 4;
    //角色用户信息列表
    repeated RoleUserInfo role_user_info = 5;
}

//操作信息-API注册
message Action {
    //操作信息ID
    google.protobuf.StringValue action_id = 1;
    //操作信息-模块ID
    google.protobuf.StringValue module_id = 2;
    //操作信息-模块名称
    google.protobuf.StringValue module_name = 3;
    //操作信息-API ID
    google.protobuf.StringValue api_id = 4;
    //操作信息-API名称
    google.protobuf.StringValue api_name = 5;
    //操作信息-API方法
    google.protobuf.StringValue api_method = 6;
    //操作信息-API类型- value = read 只读, value = write 只写,  value = delete 删除,  value = modify 修改
    google.protobuf.StringValue action_type = 7;
    //操作信息-描述
    google.protobuf.StringValue description = 8;
    //创建人ID
    google.protobuf.StringValue created_by = 9;
    //创建时间
    google.protobuf.Timestamp create_time = 10;
    //更新时间
    google.protobuf.Timestamp update_time = 11;
}

//查询操作请求信息
message DescribeActionsRequest {
    //模糊查询关键字 - 支持字段：action_id/api_id/api_name/action_type
    google.protobuf.StringValue search_word = 1;
    //排序字段 - 默认 create_time
    google.protobuf.StringValue sort_key = 2;
    //是否倒序排序 - value = 0 sort ASC, value = 1 sort DESC
    google.protobuf.BoolValue reverse = 3;
    //数据库查询偏移位置 - 默认 0
    google.protobuf.UInt64Value offset = 4;
    //数据库查询每页大小 - 默认 20, 最大值 200
    google.protobuf.UInt64Value limit = 5;
    //操作信息ID
    repeated string action_id = 6;
    //角色ID
    repeated string role_id = 7;
    //操作信息-模块ID
    repeated string module_id = 8;
    //操作信息-模块名称
    repeated string module_name = 9;
    //操作信息-API ID
    repeated string api_id = 10;
    //操作信息-API名称
    repeated string api_name = 11;
    //操作信息-API类型- value = read 只读, value = write 只写,  value = delete 删除,  value = modify 修改
    repeated string action_type = 12;
}

//查询操作返回信息
message DescribeActionsResponse {
    //返回总数
    uint32 total_count = 1;
    //返回操作列表
    repeated Action action_set = 2;
}

//创建操作请求信息
message CreateActionRequest {
    //操作信息-模块ID
    google.protobuf.StringValue module_id = 1;
    //操作信息-模块名称
    google.protobuf.StringValue module_name = 2;
    //操作信息-API ID
    google.protobuf.StringValue api_id = 3;
    //操作信息-API名称
    google.protobuf.StringValue api_name = 4;
    //操作信息-API方法
    google.protobuf.StringValue api_method = 5;
    //操作信息-API类型- value = read 只读, value = write 只写,  value = delete 删除,  value = modify 修改
    google.protobuf.StringValue action_type = 6;
    //操作信息-描述
    google.protobuf.StringValue description = 7;
}

//创建操作返回信息
message CreateActionResponse {
    //操作信息ID
    google.protobuf.StringValue action_id = 1;
}
//修改操作请求信息
message ModifyActionRequest {
    //操作信息ID
    google.protobuf.StringValue action_id = 1;
    //操作信息-模块ID
    google.protobuf.StringValue module_id = 2;
    //操作信息-模块名称
    google.protobuf.StringValue module_name = 3;
    //操作信息-API ID
    google.protobuf.StringValue api_id = 4;
    //操作信息-API名称
    google.protobuf.StringValue api_name = 5;
    //操作信息-API类型- value = read 只读, value = write 只写,  value = delete 删除,  value = modify 修改
    google.protobuf.StringValue action_type = 6;
    //操作信息-API方法
    google.protobuf.StringValue api_method = 7;
    //操作信息-描述
    google.protobuf.StringValue description = 8;
}

//修改操作返回信息
message ModifyActionResponse {
    //操作信息ID
    google.protobuf.StringValue action_id = 1;
}

//删除操作请求信息
message DeleteActionRequest {
    //操作信息ID
    google.protobuf.StringValue action_id = 1;
}

//删除操作返回信息
message DeleteActionResponse {
    //是否删除成功
    google.protobuf.BoolValue ok = 1;
}

//角色操作绑定基本信息
message BindingRoleAction {
    //角色ID
    google.protobuf.StringValue role_id = 1;
    //角色要绑定的操作列表
    repeated string api_id = 2;
}

//角色操作绑定请求信息
message BindingRoleActionRequest {
    //角色操作绑定基本信息列表
    repeated BindingRoleAction binding_role_action = 1;
}

//角色操作绑定返回信息
message BindingRoleActionResponse {
    //是否绑定成功
    google.protobuf.BoolValue ok = 1;
}

//查询所有操作API请求信息
message DescribeApiIdsRequest {
}

//查询所有操作API返回信息
message DescribeApiIdsResponse {
    //返回所有操作API列表
    repeated string api_id = 1;
}

//查询TOKEN请求信息
message DescribeTokenRequest {
}

//查询TOKEN返回信息
message DescribeTokenResponse {
    //用户token
    google.protobuf.StringValue token = 1;
    //用户ID
    google.protobuf.StringValue user_id = 2;
    //接入平台ID
    google.protobuf.StringValue access_sys_id = 3;
}

//刷新TOKEN请求信息
message RefreshTokenRequest {
    //用户ID
    google.protobuf.StringValue user_id = 1;
    //接入平台ID
    google.protobuf.StringValue access_sys_id = 2;
    //要刷新的TOKEN
    google.protobuf.StringValue token = 3;
}

//刷新TOKEN返回信息
message RefreshTokenResponse {
    //返回刷新后的TOKEN
    google.protobuf.StringValue token = 1;
}

message RefreshOpenApiTokenRequest {
    google.protobuf.StringValue access_sys_id = 1;
    google.protobuf.StringValue email = 2;
    google.protobuf.StringValue passwd = 3;
    google.protobuf.StringValue roundup = 4;
    google.protobuf.StringValue token = 5;
}

message RefreshOpenApiTokenResponse {
    google.protobuf.StringValue token = 1;
    google.protobuf.StringValue roundup = 2;
}



//im-产品级别的IAM认证处理逻辑请求信息
message AuthenticationRequest {
    //请求TOKEN
    google.protobuf.StringValue token = 1;
}

//im-产品级别的IAM认证处理逻辑返回信息
message AuthenticationResponse {
    //是否认证通过
    google.protobuf.BoolValue valid = 1;
}

//am-产品级别的鉴权处理逻辑请求信息
message OPARoleBindingsRequest {
    //请求TOKEN
    google.protobuf.StringValue token = 1;
    //API ID
    google.protobuf.StringValue api_name = 2;
}

//am-产品级别的鉴权处理逻辑返回信息
message OPARoleBindingsResponse {
    //用户ID
    string user_id = 1;
    //操作信息-模块ID
    string module_id = 2;
    //操作信息-API ID
    string api_id = 3;
    //操作信息-API类型- value = read 只读, value = write 只写,  value = delete 删除,  value = modify 修改
    string action_type = 4;
    //OPA认证角色绑定信息
    string role_bindings = 5;
}

message GetRoleTypeRequest{
    google.protobuf.StringValue access_sys_id = 1;
    google.protobuf.StringValue user_id = 2;
    google.protobuf.StringValue api_id = 3;
}

message RoleTypeInfo {
    google.protobuf.StringValue role_id = 1;
    //角色类型- value = 1 owner, value = 2 普通角色
    google.protobuf.UInt32Value role_type = 2;
}

message GetRoleTypeResponse {
    repeated RoleTypeInfo role_type_info = 1;
}

service IamManager {

    //IM
    rpc DescribeUsers (DescribeUsersRequest) returns (DescribeUsersResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "用户-列表"
		};
        option (google.api.http) = {
            get: "/v1/users"
        };
    };

    rpc CreateUser (CreateUserRequest) returns (CreateUserResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "用户-创建"
		};
        option (google.api.http) = {
            post: "/v1/users"
            body: "*"
        };
    };

    rpc ModifyUser (ModifyUserRequest) returns (ModifyUserResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "用户-修改"
        };
        option (google.api.http) = {
            patch: "/v1/users"
            body: "*"
        };
    };

    rpc ModifyAccessSystemUser (ModifyAccessSystemUserRequest) returns (ModifyAccessSystemUserResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "接入系统成员-修改"
        };
        option (google.api.http) = {
            patch: "/v1/members"
            body: "*"
        };
    };

    rpc DeleteUnactivityAccessSystemUser (DeleteAccessSystemUserRequest) returns (DeleteAccessSystemUserResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "接入系统成员-删除未激活"
        };
        option (google.api.http) = {
            delete: "/v1/members"
            body: "*"
        };
    }

    rpc ChangePassword (ChangePasswdRequest) returns (ChangePasswdResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "密码-修改"
        };
        option (google.api.http) = {
            put: "/v1/users/password"
            body: "*"
        };
    };

    rpc ResetPassword (ResetPasswdRequest) returns (ResetPasswdResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "密码-重置"
        };
        option (google.api.http) = {
            post: "/v1/users/password:reset"
            body: "*"
        };
    };

    rpc ResetPwdSendEmail (ResetPwdSendEmailRequest) returns (ResetPwdSendEmailResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "密码-重置-发送邮件"
        };
        option (google.api.http) = {
            post: "/v1/users/password/email"
            body: "*"
        };
    }

    rpc InviteUser (InviteUserRequest) returns (InviteUserResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "用户-邀请"
        };
        option (google.api.http) = {
            post: "/v1/users:invite"
            body: "*"
        };
    };

    rpc DescribeRoles (DescribeRolesRequest) returns (DescribeRolesResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "角色-列表"
		};
        option (google.api.http) = {
            get: "/v1/roles"
        };
    };

    rpc CreateRole (CreateRoleRequest) returns (CreateRoleResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "角色-创建"
		};
        option (google.api.http) = {
            post: "/v1/roles"
            body: "*"
        };
    };

    rpc ModifyRole (ModifyRoleRequest) returns (ModifyRoleResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "角色-修改"
        };
        option (google.api.http) = {
            patch: "/v1/roles"
            body: "*"
        };
    };

    rpc DeleteRole (DeleteRoleRequest) returns (DeleteRoleResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "角色-删除"
        };
        option (google.api.http) = {
            delete: "/v1/roles"
            body: "*"
        };
    }

    //入参都是[]string
    rpc BindingMembersRoles (BindingMembersRolesRequest) returns (BindingMembersRolesResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "成员-角色-绑定"
        };
        option (google.api.http) = {
            post: "/v1/member_role_bindings"
            body: "*"
        };
    };

    rpc BindingRolesMembers (BindingMembersRolesRequest) returns (BindingMembersRolesResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "角色-成员-绑定"
        };
        option (google.api.http) = {
            post: "/v1/role_member_bindings"
            body: "*"
        };
    };

    rpc RoleDetail (RoleDetailRequest) returns (RoleDetailResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "角色-详情"
        };
        option (google.api.http) = {
            get: "/v1/roles/{role_id}"
        };
    }

    rpc DescribeActions (DescribeActionsRequest) returns (DescribeActionsResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "API - 列表"
		};
        option (google.api.http) = {
            get: "/v1/actions"
        };
    };

    rpc CreateAction (CreateActionRequest) returns (CreateActionResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "API-创建"
		};
        option (google.api.http) = {
            post: "/v1/actions"
            body: "*"
        };
    };

    rpc ModifyAction (ModifyActionRequest) returns (ModifyActionResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "API-修改"
        };
        option (google.api.http) = {
            patch: "/v1/actions"
            body: "*"
        };
    };

    rpc DeleteAction (DeleteActionRequest) returns (DeleteActionResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "API-删除"
        };
        option (google.api.http) = {
            delete: "/v1/actions"
            body: "*"
        };
    };

    //role binding action
    rpc BindingRoleAction (BindingRoleActionRequest) returns (BindingRoleActionResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "角色-API-绑定"
        };
        option (google.api.http) = {
            post: "/v1/role_action_bindings"
            body: "*"
        };
    };

    rpc DescribeApiIds (DescribeApiIdsRequest) returns (DescribeApiIdsResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "角色-API-列表"
        };
        option (google.api.http) = {
            get: "/v1/users/actions"
        };
    };

    rpc Login (LoginRequest) returns (LoginResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "登录"
        };
        option (google.api.http) = {
            post: "/v1/login"
            body: "*"
        };
    };

    rpc Logout (LogoutRequest) returns (LogoutResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "退出登录"
        };
        option (google.api.http) = {
            post: "/v1/logout"
            body: "*"
        };
    };

    rpc DescribeUserAccessSystems (DescribeUserAccessSystemsRequest) returns (DescribeUserAccessSystemsResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "用户的接入系统-查询"
        };
        option (google.api.http) = {
            get: "/v1/users/accesssystems"
        };
    };

    rpc SwitchAccessSys (SwitchAccessSysRequest) returns (LoginResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "用户的接入系统-切换"
        };
        option (google.api.http) = {
            post: "/v1/accesssystems:switch"
            body: "*"
        };
    };

    rpc DescribeMembers (DescribeUsersRequest) returns (DescribeUsersResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "接入系统成员-列表"
		};
        option (google.api.http) = {
            get: "/v1/accesssystems/members"
        };
    };

    rpc DescribeToken (DescribeTokenRequest) returns (DescribeTokenResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "TOKEN-获取"
		};
        option (google.api.http) = {
            get: "/v1/users/token"
        };
    };

    rpc RefreshToken (RefreshTokenRequest) returns (RefreshTokenResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			summary: "TOKEN-刷新"
        };
        option (google.api.http) = {
            post: "/v1/users/token"
            body: "*"
        };
    };



    rpc RefreshOpenApiToken (RefreshOpenApiTokenRequest) returns (RefreshOpenApiTokenResponse) {
        option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
            summary: "【外部通用接口】，提供给接入系统对接使用的刷新token的接口。"
        };
        option (google.api.http) = {
            post: "/v1/openapi/token:refresh"
            body: "*"
        };
    }

    rpc Authentication (AuthenticationRequest) returns (AuthenticationResponse) {};
    rpc OPARoleBindings (OPARoleBindingsRequest) returns (OPARoleBindingsResponse) {};
    rpc AccessSystemOwner (AccessSystemOwnerRequest) returns (AccessSystemOwnerResponse) {};
    rpc AccessSystemInit (AccessSystemInitRequest) returns (AccessSystemInitResponse) {};
    rpc GetRoleType(GetRoleTypeRequest) returns (GetRoleTypeResponse){};
    rpc DescribeAccessSystemsByOwner (DescribeUsersRequest) returns (DescribeAccessSystemsByOwnerResponse) {};
    rpc DescribeAccessSystemUser (DescribeAccessSystemUserRequest) returns (DescribeAccessSystemUserResponse) {};

}

